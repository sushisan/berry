<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Compiler Interpreter &mdash; berry 1.1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> berry
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Compiler Interpreter</a><ul>
<li><a class="reference internal" href="#overview">1. Overview</a></li>
<li><a class="reference internal" href="#porting">2. Porting</a></li>
<li><a class="reference internal" href="#platform-support">3. Platform Support</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">berry</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Compiler Interpreter</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/en/Appendix-B.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="compiler-interpreter">
<h1>Compiler Interpreter<a class="headerlink" href="#compiler-interpreter" title="Permalink to this headline">¶</a></h1>
<section id="overview">
<h2>1. Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The source code of the Berry interpreter is written using the ISO C99
standard, and the core code does not rely on third-party libraries, so
it has strong versatility. Take the Ubuntu system as an example, execute
the following command in the terminal to install the Berry interpreter:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>apt install git gcc g++ make libreadline-dev
git clone https://github.com/berry-lang/berry
<span class="nb">cd</span> berry
make
make install
</pre></div>
</div>
<p>The Makefile provided in the GitHub repository is built using the GCC
compiler. Other compilers can also compile the Berry interpreter
correctly. The currently tested and available compilers include GCC,
Clang, MSVC, ARMCC and ICCARM. The compiler that compiles the Berry
interpreter should have the following characteristics:</p>
<ul class="simple">
<li><p>C compiler that supports the C99 standard</p></li>
<li><p>C++ compiler supporting C++11 standard (only for native compilation)</p></li>
<li><p>32 or 64 bit target platform</p></li>
</ul>
<p>The C++ compiler is only used to compile <em>map_build</em> tools, so there is
no need to provide a C++ cross compiler for the Berry interpreter when
cross-compiling, but the user should prepare a native C++ compiler
(unless the user can obtain the <em>map_build</em> tool executable file).</p>
</section>
<section id="porting">
<h2>2. Porting<a class="headerlink" href="#porting" title="Permalink to this headline">¶</a></h2>
<p>The following is how to port the Berry interpreter to the user’s
project:</p>
<ol class="arabic simple">
<li><p>Add all source files in the <em>src</em> directory to the user project, and
the directory should be added to the include path</p></li>
<li><p>Users need to implement by themselves <em>default</em> files other than
<em>berry.c</em> in the directory. If conditions permit, they don’t need to
modify them</p></li>
<li><p>Use <em>map_build</em> tool to generate constant object code and then
compile</p></li>
</ol>
</section>
<section id="platform-support">
<h2>3. Platform Support<a class="headerlink" href="#platform-support" title="Permalink to this headline">¶</a></h2>
<p>Currently Berry interpreter has been tested on some platforms. Windows,
Linux and MacOS operating systems running on X86 CPUs can run normally.
Embedded platforms that have been tested include Cortex M3/M0/M4/M7. The
Berry interpreter should be able to run well on the basis of the
necessary C runtime library. At present, when only Berry language core
is compiled, the interpreter code generated by the ARMCC compiler is
only about 40KiB, and the interpreter can run on a device with only 8KiB
of RAM.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Guan Wenliang &amp; Stephan Hadinger.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>